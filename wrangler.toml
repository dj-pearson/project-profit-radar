name = "builddesk"
compatibility_date = "2024-07-01"

# Cloudflare Pages configuration
[env.production]
pages_build_output_dir = "dist"

# Environment variables for build optimization
[env.production.vars]
NODE_VERSION = "18"
NPM_FLAGS = "--omit=optional --prefer-offline"
NODE_OPTIONS = "--max-old-space-size=4096"
SKIP_DEPENDENCY_INSTALL = "false"

# Build configuration for faster deployments
[build]
command = "npm run build:prod"
publish = "dist"

# Routes configuration (update with your actual domain)
[[env.production.routes]]
pattern = "your-domain.com/*"
zone_name = "your-domain.com"
