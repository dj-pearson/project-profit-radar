name = "builddesk"
compatibility_date = "2024-07-01"

# Cloudflare Pages configuration
[env.production]
pages_build_output_dir = "dist"

# Environment variables for build optimization
[env.production.vars]
NODE_VERSION = "20"
NPM_FLAGS = "--prefer-offline"
NODE_OPTIONS = "--max-old-space-size=4096"
SKIP_DEPENDENCY_INSTALL = "false"

# Build configuration for faster deployments
[build]
command = "npm run build:prod"
publish = "dist"

# Routes configuration for build-desk.com
[[env.production.routes]]
pattern = "build-desk.com/*"
zone_name = "build-desk.com"

[[env.production.routes]]
pattern = "www.build-desk.com/*"
zone_name = "build-desk.com"
